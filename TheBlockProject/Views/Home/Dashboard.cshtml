@model TheBlockProject.ViewModels.DashboardViewModel

@{
    ViewBag.Title = "Dashboard";
    bool requestExists = Model.Requests.Any();
}

<h2>Dashboard</h2>
<h3>Status of Requests</h3>
@if (requestExists)
{
    <div class="container">
        <table class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                <th>Date</th>
                <th>Sender</th>
                <th>Receiver</th>
                <th>Status</th>
                <th>Respond</th>
            </tr>
            </thead>
            <tbody>
                @foreach (var request in Model.Requests)
                {
                    <tr>
                        <td>@request.CreatedDate.ToShortDateString()</td>
                        <td>@request.Sender.LastName, @request.Sender.FirstName</td>
                        <td>@request.Receiver.LastName, @request.Receiver.FirstName</td>
                        <td>@request.Status</td>
                        <!-- Request view and response not yet implemented-->
                        <td>@Html.ActionLink("See More", "Details", "Hosts", new { Id = request.Sender.Id}, false)</td>
                    </tr>
                }
            </tbody>

        </table>

    </div>
    
}

<h3>To-do List</h3>
<ul>
    @if (!Model.User.SurveyComplete)
    {
    <li>@Html.ActionLink("Complete your survey", "Index", "Survey")</li>
    }
</ul>

